import{_ as i,c as a,o as e,ag as n}from"./chunks/framework.B4wrkNPo.js";const t="/qs-jwt-docs/img/qs-jwt-qseow-existing-cert-file-1.png",l="/qs-jwt-docs/img/qs-jwt-qseow-macos-1.png",p="/qs-jwt-docs/img/qs-jwt-qseow-winsrv2016-1.png",h="/qs-jwt-docs/img/qs-jwt-qseow-existing-cert-param-1.png",k="/qs-jwt-docs/img/qs-jwt-qseow-macos-2.png",r="/qs-jwt-docs/img/qs-jwt-qseow-winsrv2016-2.png",d="/qs-jwt-docs/img/qs-jwt-qseow-new-cert-1.png",o="/qs-jwt-docs/img/qs-jwt-qseow-macos-3.png",g="/qs-jwt-docs/img/qs-jwt-qseow-winsrv2016-3.png",q=JSON.parse('{"title":"QSEoW Examples","description":"","frontmatter":{},"headers":[],"relativePath":"guide/qseow-examples.md","filePath":"guide/qseow-examples.md"}'),c={name:"guide/qseow-examples.md"};function u(y,s,F,E,C,m){return e(),a("div",null,[...s[0]||(s[0]=[n('<h1 id="qseow-examples" tabindex="-1">QSEoW Examples <a class="header-anchor" href="#qseow-examples" aria-label="Permalink to &quot;QSEoW Examples&quot;">​</a></h1><p>This page shows detailed examples for creating JWTs for Qlik Sense Enterprise on Windows (QSEoW).</p><h2 id="prerequisites" tabindex="-1">Prerequisites <a class="header-anchor" href="#prerequisites" aria-label="Permalink to &quot;Prerequisites&quot;">​</a></h2><p>Before using JWTs with QSEoW, you need:</p><ol><li>A virtual proxy configured for JWT authentication</li><li>A certificate/private key pair (or let qs-jwt create one)</li><li>The audience value from your virtual proxy configuration</li></ol><h2 id="mode-1-using-existing-private-key-file" tabindex="-1">Mode 1: Using Existing Private Key File <a class="header-anchor" href="#mode-1-using-existing-private-key-file" aria-label="Permalink to &quot;Mode 1: Using Existing Private Key File&quot;">​</a></h2><p><img src="'+t+`" alt="qs-jwt using existing cert and key files"></p><p>If you already have a certificate with an associated private key (PEM encoded), that key can be used to sign the created JWT. The public part of the certificate is entered in the QSEoW virtual proxy configuration.</p><h3 id="create-a-certificate-using-openssl" tabindex="-1">Create a certificate using openssl <a class="header-anchor" href="#create-a-certificate-using-openssl" aria-label="Permalink to &quot;Create a certificate using openssl&quot;">​</a></h3><p>If you want to create a certificate and a private key manually that&#39;s easy too.</p><p>On macOS it can look like this:</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">openssl</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> genrsa</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -out</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> privatekey.pem</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 4096</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">openssl</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> req</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -new</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -x509</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -key</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> privatekey.pem</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -out</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> publickey.cer</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -days</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 1825</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># You&#39;ll be prompted for certificate details</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># You can leave most fields blank by entering &#39;.&#39;</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># For Common Name, you can enter something like &#39;qs-jwt&#39;</span></span></code></pre></div><h3 id="running-qs-jwt-on-macos" tabindex="-1">Running qs-jwt on macOS <a class="header-anchor" href="#running-qs-jwt-on-macos" aria-label="Permalink to &quot;Running qs-jwt on macOS&quot;">​</a></h3><p>This example will:</p><ul><li>Create a JWT for Qlik Sense Enterprise on Windows (the <code>create-qseow</code> command)</li><li>Create a JWT for user <code>anna</code> in Sense userdirectory <code>GRUSGRUS</code>. &quot;Grusgrus&quot; is a fictitious company</li><li>The JWT will expire in 365 days</li><li>The private key in file <code>privatekey.pem</code> will be used to sign the JWT</li><li>Set claims for <code>useremail</code> and <code>username</code> to <code>anna@grusgrus.com</code> and <code>Anna Anderson</code>, respectively</li><li>The audience option must match the audience specified in the Qlik Sense virtual proxy</li><li>Two groups are defined for this user: <code>group1</code> and <code>group 2</code>. These correspond to groups in Qlik Sense</li></ul><p>Command (assuming the qs-jwt binary is available in the current directory):</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">./qs-jwt</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> create-qseow</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> \\</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  --userdir</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> GRUSGRUS</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> \\</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  --userid</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> anna</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> \\</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  --username</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;Anna Anderson&quot;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> \\</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  --useremail</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;anna@grusgrus.com&quot;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> \\</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  --audience</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> hdJh34wkK</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> \\</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  --cert-privatekey-file</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> privatekey.pem</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> \\</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  --groups</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> group1</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;group 2&quot;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> \\</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  --expires</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 365d</span></span></code></pre></div><p><img src="`+l+`" alt="qs-jwt running on macOS, using existing key file"></p><h3 id="running-qs-jwt-on-windows-server" tabindex="-1">Running qs-jwt on Windows Server <a class="header-anchor" href="#running-qs-jwt-on-windows-server" aria-label="Permalink to &quot;Running qs-jwt on Windows Server&quot;">​</a></h3><p>This example uses a private key that was created using openssl, as describe above.</p><p>Remember: Don&#39;t forget to unblock the downloaded qs-jwt ZIP file before unzipping it.<br> Failing to unblock it may prevent proper execution of qs-jwt.exe.</p><div class="language-powershell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">powershell</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">qs-jwt.exe</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> create</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">-</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">qseow \\</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  --</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">userdir GRUSGRUS \\</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  --</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">userid anna \\</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  --</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">username </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;Anna Anderson&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> \\</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  --</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">useremail </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;anna@grusgrus.com&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> \\</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  --</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">audience hdJh34wkK \\</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  --</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">cert</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">-</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">privatekey</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">-</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">file privatekey.pem \\</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  --</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">groups group1 </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;group 2&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> \\</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  --</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">expires </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">365d</span></span></code></pre></div><p><img src="`+p+'" alt="qs-jwt running on Windows Server 2016, using existing key file"></p><h2 id="mode-2-using-existing-private-key-as-parameter" tabindex="-1">Mode 2: Using Existing Private Key as Parameter <a class="header-anchor" href="#mode-2-using-existing-private-key-as-parameter" aria-label="Permalink to &quot;Mode 2: Using Existing Private Key as Parameter&quot;">​</a></h2><p><img src="'+h+`" alt="qs-jwt using existing cert and key as parameters"></p><h3 id="running-qs-jwt-on-macos-1" tabindex="-1">Running qs-jwt on macOS <a class="header-anchor" href="#running-qs-jwt-on-macos-1" aria-label="Permalink to &quot;Running qs-jwt on macOS&quot;">​</a></h3><p>This example will:</p><ul><li>Set the environment variable <code>QSJWTPRIVKEY</code> to the contents of the private key in <code>privatekey.pem</code> file</li><li>Create a JWT for Qlik Sense Enterprise on Windows (the <code>create-qseow</code> command)</li><li>Create a JWT for user <code>anna</code> in Sense userdirectory <code>GRUSGRUS</code>. Grusgrus is a fictitious company</li><li>The JWT will expire in 365 days</li><li>The private key in environment variable <code>QSJWTPRIVKEY</code> will be used to sign the JWT</li><li>Set claims for <code>useremail</code> and <code>username</code> to <code>anna@grusgrus.com</code> and <code>Anna Anderson</code>, respectively</li><li>The audience option must match the audience specified in the Qlik Sense virtual proxy</li><li>Two groups are defined for this user: <code>group1</code> and <code>group 2</code>. These correspond to groups in Qlik Sense</li></ul><p>Commands:</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">export</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> QSJWTPRIVKEY</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">$(</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">cat</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ./privatekey.pem</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span></code></pre></div><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">./qs-jwt</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> create-qseow</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> \\</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  --userdir</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> GRUSGRUS</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> \\</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  --userid</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> anna</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> \\</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  --username</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;Anna Anderson&quot;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> \\</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  --useremail</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;anna@grusgrus.com&quot;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> \\</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  --audience</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> hdJh34wkK</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> \\</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  --cert-privatekey</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">$QSJWTPRIVKEY</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> \\</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  --groups</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> group1</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;group 2&quot;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> \\</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  --expires</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 365d</span></span></code></pre></div><p><img src="`+k+`" alt="qs-jwt running on macOS, using existing key as parameter"></p><h3 id="running-qs-jwt-on-windows-server-1" tabindex="-1">Running qs-jwt on Windows Server <a class="header-anchor" href="#running-qs-jwt-on-windows-server-1" aria-label="Permalink to &quot;Running qs-jwt on Windows Server&quot;">​</a></h3><p>This example uses a private key that was created using openssl, as describe above.<br> Here PowerShell is used to run qs-jwt, with the private key stored in an environment variable.</p><p>Remember: Don&#39;t forget to unblock the downloaded qs-jwt ZIP file before unzipping it. Failing to unblock it may prevent proper execution of qs-jwt.exe.</p><div class="language-powershell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">powershell</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">$QSJWTPRIVKEY </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> Get-Content</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> .\\privatekey.pem </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">-</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">Raw</span></span></code></pre></div><div class="language-powershell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">powershell</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.\\</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">qs-jwt.exe</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> create</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">-</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">qseow \\</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  --</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">userdir GRUSGRUS \\</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  --</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">userid anna \\</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  --</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">username </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;Anna Anderson&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> \\</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  --</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">useremail </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;anna@grusgrus.com&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> \\</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  --</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">audience hdJh34wkK \\</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  --</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">cert</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">-</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">privatekey </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">$QSJWTPRIVKEY</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> \\</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  --</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">groups group1 </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;group 2&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> \\</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  --</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">expires </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">365d</span></span></code></pre></div><p><img src="`+r+'" alt="qs-jwt running on Windows Server 2016, using existing key as parameter"></p><h2 id="mode-3-create-new-certificate-and-key-files" tabindex="-1">Mode 3: Create New Certificate and Key Files <a class="header-anchor" href="#mode-3-create-new-certificate-and-key-files" aria-label="Permalink to &quot;Mode 3: Create New Certificate and Key Files&quot;">​</a></h2><p><img src="'+d+`" alt="qs-jwt creating both new cert, keys and JWT"></p><p>If you <strong>do not</strong> have a certificate with associated private key (PEM encoded) qs-jwt can create these for you.<br> You will get a complete public-private key pair rather than just the private key (which is what qs-jwt uses).</p><p>The created certificate and keys will be stored on disk as <code>privatekey.pem</code>, <code>publickey.pem</code> and <code>publickey.cer</code>.<br> An optional prefix can be added to the file names, this is done by using the <code>--cert-file-prefix</code> option.</p><h3 id="running-qs-jwt-on-macos-2" tabindex="-1">Running qs-jwt on macOS <a class="header-anchor" href="#running-qs-jwt-on-macos-2" aria-label="Permalink to &quot;Running qs-jwt on macOS&quot;">​</a></h3><p>This example will:</p><ul><li>Create a JWT for Qlik Sense Enterprise on Windows (the <code>create-qseow</code> command)</li><li>Create a JWT for user <code>anna</code> in Sense userdirectory <code>GRUSGRUS</code>. Grusgrus is a fictitious company</li><li>The JWT will expire in 365 days</li><li>A new private/public key pair will be created, as well as a new certificate based on that private key</li><li>The created files will be prefixed with <code>qsjwt_</code></li><li>The created certificate will expire in 400 days</li><li>The newly created private key will be used to sign the JWT</li><li>Set claims for useremail and username to <code>anna@grusgrus.com</code> and <code>Anna Anderson</code>, respectively</li><li>The audience option must match the audience specified in the Qlik Sense virtual proxy</li><li>Two groups are defined for this user: <code>group1</code> and <code>group 2</code></li></ul><p>Command:</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">./qs-jwt</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> create-qseow</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> \\</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  --userdir</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> GRUSGRUS</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> \\</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  --userid</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> anna</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> \\</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  --username</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;Anna Anderson&quot;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> \\</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  --useremail</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;anna@grusgrus.com&quot;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> \\</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  --audience</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> hdJh34wkK</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> \\</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  --cert-create</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> true</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> \\</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  --cert-create-expires-days</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 400</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> \\</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  --cert-file-prefix</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;qsjwt_&quot;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> \\</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  --groups</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> group1</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;group 2&quot;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> \\</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  --expires</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 365d</span></span></code></pre></div><p><img src="`+o+`" alt="qs-jwt running on macOS, creating new cert and keys"></p><h3 id="running-qs-jwt-on-windows-server-2" tabindex="-1">Running qs-jwt on Windows Server <a class="header-anchor" href="#running-qs-jwt-on-windows-server-2" aria-label="Permalink to &quot;Running qs-jwt on Windows Server&quot;">​</a></h3><p>Here cmd.exe is used to run qs-jwt, PowerShell works equally well.</p><p>Remember: Don&#39;t forget to unblock the downloaded qs-jwt ZIP file before unzipping it. Failing to unblock it may prevent proper execution of qs-jwt.exe.</p><div class="language-powershell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">powershell</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.\\</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">qs-jwt.exe</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> create</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">-</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">qseow \\</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  --</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">userdir GRUSGRUS \\</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  --</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">userid anna \\</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  --</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">username </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;Anna Anderson&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> \\</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  --</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">useremail </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;anna@grusgrus.com&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> \\</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  --</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">audience hdJh34wkK \\</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  --</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">cert</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">-</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">create true \\</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  --</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">cert</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">-</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">create</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">-</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">expires</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">-</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">days </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">400</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> \\</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  --</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">cert</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">-</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">file</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">-</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">prefix </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;qsjwt_&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> \\</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  --</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">groups group1 </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;group 2&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> \\</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  --</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">expires </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">365d</span></span></code></pre></div><p><img src="`+g+'" alt="qs-jwt running on Windows Server 2016, creating new cert and key"></p><h2 id="next-steps" tabindex="-1">Next Steps <a class="header-anchor" href="#next-steps" aria-label="Permalink to &quot;Next Steps&quot;">​</a></h2><ul><li><a href="/qs-jwt-docs/guide/api-usage.html#qseow-api-usage">Learn how to use JWTs with QSEoW APIs</a></li><li><a href="/qs-jwt-docs/guide/qscloud-examples.html">See QS Cloud examples</a></li><li><a href="/qs-jwt-docs/guide/security-rules.html">Understand security rules with JWTs</a></li></ul>',55)])])}const B=i(c,[["render",u]]);export{q as __pageData,B as default};
